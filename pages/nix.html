<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: Nix - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>Nix</h2>

        <dl>
          <dt>File size</dt>
          <dd>7.7KB</dd>

          <dt>Lines of code</dt>
          <dd>236</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>Nix</code></h1>
<p>Powerful Linux and Unix package manager for reliable, reproducible configurations.</p>
<h2>Comments</h2>
<pre class="codehilite"><code class="language-nix"># ----- COMMENT -----

# this is a single-line comment

/*
this is a
multi-line
comment
*/
</code></pre>

<h2>Printing</h2>
<pre class="codehilite"><code class="language-nix"># ----- PRINTING -----
    # builtins.trace =&gt; receives a string argument and a second optional argument that is then printed to the stdout and includes a newline depending on the arguments provided

builtins.trace &quot;this does not have a newline&quot; &quot;&quot;; # specifying an empty string as the second argument will omit the newline 
builtins.trace &quot;this has a newline but only because we explicitly specified it\n&quot;;
</code></pre>

<h2>Quickstart</h2>
<pre class="codehilite"><code class="language-nix"># ----- QUICKSTART -----
    # pure functional language, where everything is an expression and every expression must evaluate to a single value
    # all values in Nix are immutable by default
    # powerful, expressive syntax used for configuration management, package deployment, and software reproducibility within NixOS
    # semicolon-delimited language
    # let =&gt; provides variable binding of an immutable value to the specified named variable identifier

# --- EXAMPLE NIX PACKAGE ---
    # below is an example of a nix package definition

{ stdenv, fetchurl }:
stdenv.mkDerivation {
    name = &quot;hello-2.10&quot;;
    src = fetchurl {
        url = &quot;http://ftp.gnu.org/gnu/hello/hello-2.10.tar.gz&quot;;
        sha256 = &quot;0ssi1wpaf7plaswqqjwigppsg5fyh99vdlb9kzl7c9lng89nd3fi&quot;;
    };
    buildInputs = [ ];
    meta = {
        description = &quot;A program that produces a familiar, friendly greeting&quot;;
        license = stdenv.lib.licenses.gpl3;
    };
}
</code></pre>

<h2>Types</h2>
<pre class="codehilite"><code class="language-nix"># ----- TYPE -----
    # Integer =&gt; stores an integer number value
    # Float =&gt; stores a floating-point number value
    # String =&gt; stores a string value declared within &quot;&quot; double quotation marks, note that characters are handled as single-character long strings
    # Boolean =&gt; true, false
    # null =&gt; represents the absence of a value, the equivalent of void in other programming languages
</code></pre>

<h2>Operators</h2>
<pre class="codehilite"><code class="language-nix"># ----- OPERATOR -----

# ----- ARITHMETIC OPERATORS ----- 

+ # addition
- # subtraction
* # multiplication
/ # division
% # modulo

# ----- COMPARISON OPERATORS -----

== # complete equality check for both value and type
!= # complete inequality check for both value and type
&gt; # comparison operator
&lt; # comparison operator
&gt;= # comparison operator
&lt;= # comparison operator

# ----- LOGICAL OPERATORS -----

&amp;&amp; # logical and
|| # logical or
! # logical not
</code></pre>

<h2>Control structures</h2>
<pre class="codehilite"><code class="language-nix"># ----- CONTROL STRUCTURE -----

# --- CONDITIONALS ---

IF ELSE IF ELSE

let
    age = 25;
in
    if age &lt; 13 then
        &quot;Child&quot;
    else if age &lt; 20 then
        &quot;Teenager&quot;
    else if age &lt; 65 then
        &quot;Adult&quot;
    else
        &quot;Senior&quot;

# --- LOOPS ---
    # there are no traditional loop constructs in Nix as in other programming languages
    # instead, Nix relies on recursion and other higher-order functions to handle iteration and traversal of iterable data structures

# RECURSION

let
    factorial = n: if n == 0 then 1 else n * factorial (n - 1);
in
    factorial 5

# HIGHER-ORDER FUNCTIONS
    # below are examples of some higher-order functions in Nix such as 
        # map =&gt; applies a specified function to each element of the iterable data structure
        # filter =&gt; selects elements of a list that satisfy the specified predicate condition
        # fold =&gt; reduces a list to a single value using a specified binary function, the equivalent of reduce in other programming languages

let
    myList = [1 2 3 4 5];
    square = x: x * x;
    squaredList = map square myList;
in
    squaredList 

let
    myList = [1 2 3 4 5];
    isEven = x: x % 2 == 0;
    evenList = filter isEven myList;
in
    evenList

let
    myList = [1 2 3 4 5];
    sum = foldl (acc: x: acc + x) 0 myList;
in
    sum 
</code></pre>

<h2>Data structures</h2>
<pre class="codehilite"><code class="language-nix"># ----- DATA STRUCTURE -----
    # list =&gt; fixed-size immutable ordered collection of elements of multiple datatypes, declared within [] square brackets, featuring lazy evaluation
    # attribute set =&gt; fixed-size immutable unordered collection of key-value pairs with string keys and values of multiple datatypes, the equivalent of dictionaries in Python and maps in other programming langauges, declared within {} curly braces

let
    anExampleAttributeSet = {
        name = &quot;example&quot;;
        version = &quot;1.0&quot;;
    };
in
    anExampleAttributeSet.name # evaluates to &quot;example&quot; string literal

let
    anExampleList = [1 2 3];
in
    anExampleList # evaluates to [1 2 3] list literal
</code></pre>

<h2>Functions</h2>
<pre class="codehilite"><code class="language-nix"># ----- FUNCTION -----
    # &lt;functionName&gt; = &lt;functionParameter1Name : functionParameter2Name : etc...&gt; : &lt;functionDefinitionBody&gt; =&gt; definition and declaration of a named function
    # as a functional language, Nix features implicit return of the last expression within a function body

myFunction = x: x + 1; # named function with a single argument
myFunction 5 # evaluates to 6

myAdd = a: b: a + b; # named function with multiple arguments
myAdd 2 3 # evaluates to 5
</code></pre>

<h2>More on</h2>
<ul>
<li><a href="https://nixos.org/">nixos.org</a></li>
<li><a href="https://nix.dev/reference/nix-manual.html">nix documentation</a></li>
<li><a href="https://learnxinyminutes.com/docs/nix/">learn nix in y minutes</a></li>
<li><a href="https://zero-to-nix.com/">zero to nix</a></li>
<li><a href="https://ops.functionalalgebra.com/nix-by-example/">nix by example</a></li>
<li><a href="https://web.archive.org/web/20210121042658/https://ebzzry.io/en/nix/#nix">a gentle introduction to the nix family</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>Â© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
