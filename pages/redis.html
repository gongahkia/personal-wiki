<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: Redis - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>Redis</h2>

        <dl>
          <dt>File size</dt>
          <dd>6.3KB</dd>

          <dt>Lines of code</dt>
          <dd>131</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>Redis</code></h1>
<p>RAM in-memory data storage.</p>
<h2>Data types</h2>
<pre class="codehilite"><code class="language-py"># ----- DATA TYPES -----
    # String =&gt; foundational datatype composing the key-value pairs that redis is premised upon (used to store text, numbers etc), stored as sequences of BYTES
    # Hash =&gt; collection of key-value pairs
    # List =&gt; ordered collection of elements, supporting insertion and removal of elements
    # Set =&gt; unordered collection of unique elements, supporting membership checks and other useful set operations
    # Sorted Set =&gt; ordered collection of unique elements with each element posessing a unique score, supporting efficient range queries and other ordered operations
    # Stream =&gt; data structure for real-time data feeds, supporting insertion and removal of elements as well as range checks
    # HyperLogLog =&gt; data structures for approximating cardinality (number of unique elements) in large sets
    # Geospatial index =&gt; data stucture for effiicent storage and retrieval of geospatial data
</code></pre>

<h2>Quickstart</h2>
<pre class="codehilite"><code class="language-py"># ---------- QUICKSTART ----------
    # redis leverages on in-memory data storage (computer's RAM) that is not persistent across machine system reboots by design, but redis data can be made persistent using the following
        # rdb snapshots 
        # append only files
    # redis is mainly used for caching, session management, leaderboards, messaging, rate limiting, counting, and dealing with both sorted and unsorted sets
    # redis can be interacted with similar commands in the CLI and using a GUI client called RedisInsight
    # however, redis is most often used via import as a library in Python

import redis

# ----- GENERAL -----
    # redis.Redis(host='&lt;hostname&gt;', port=&lt;portNumber&gt;) =&gt; connects to the specified redis server
    # .set(&lt;valueName&gt;, &lt;value&gt;) =&gt; assigns a value to the specified value name in memory
    # .get(&lt;valueName&gt;) =&gt; retrieves a value from memory based on the specified value name
    # .decode() =&gt; used to decode the bytes to a readable string
    # .hset(&lt;hashName&gt;, mapping=&lt;hashValue&gt;) =&gt; creates a new hash under the specified hash name, where the value is the hash
    # .hget(&lt;hashName&gt;, &lt;key&gt;) =&gt; retrieves a value from the specified hash using the given key
    # .rpsuh(&lt;listName&gt;, &lt;comma-delimited value(s) to be appended&gt;) =&gt; appends any number of comma-delimited values to the specified list
    # .lindex(&lt;index&gt;, &lt;listName&gt;) =&gt; retrives a value from the specified list based on the given index
    # .sadd(&lt;setName&gt;, *&lt;setValue&gt;) =&gt; adds/assigns elements to the specified set name
    # * =&gt; aestricks operator unpacks the List into multiple individual arguments as required by the .sadd() method
    # .sismember(&lt;setName&gt;, &lt;queriedMember&gt;) =&gt; returns a boolean value based on whether the queried element is a member of the specified set
    # .zadd(&lt;orderedSetName&gt;, &lt;orderedSetValue&gt;) =&gt; adds/assigns elements to the specified ordered set name
    # .zrangebyscore(&lt;orderedSetName&gt;, min=&lt;minimumValue&gt;, max=&lt;maximumValue&gt;) =&gt; retrieves elements within the specified score ranges from the specified ordered set

r = redis.Redis(host='localhost', port=6379)

r.set('name', 'Alice')
name = r.get('name')
print(name.decode()) # redis Strings are stored as sequences of bytes and have to be decoded

user_data = {'name': 'Bob', 'age': 30, 'city': 'New York'}
r.hset('user:1', mapping=user_data)
age = r.hget('user:1', 'age')
print(age.decode())

r.rpush('shopping_list', 'apples', 'bread', 'milk')
first_item = r.lindex(0, 'shopping_list')
print(first_item.decode())

fruits = {'apple', 'banana', 'orange'}
r.sadd('fruits', *fruits)
is_member = r.sismember('fruits', 'mango')
print(is_member)

leaderboard = {('Alice', 100), ('Bob', 80), ('Charlie', 90)}
r.zadd('scores', leaderboard)
top_3 = r.zrangebyscore('scores', min=85, max=100)
print(top_3)
</code></pre>

<h2>More on</h2>
<ul>
<li><a href="https://redis.io/docs/latest/">redis documentation</a></li>
<li><a href="https://redis.io/docs/latest/develop/connect/cli/">redis cli</a></li>
<li><a href="https://redis.io/insight/">redisinsight</a></li>
<li><a href="https://redis.io/redis-enterprise/technology/durable-redis/">persisting data in redis</a></li>
<li><a href="https://www.openmymind.net/2011/11/8/Redis-Zero-To-Master-In-30-Minutes-Part-1/">zero to master in redis part 1</a></li>
<li><a href="https://www.openmymind.net/2011/11/8/Redis-Zero-To-Master-In-30-Minutes-Part-2/">zero to master in redis part 2</a></li>
<li><a href="https://medium.com/@aman.parmar17/getting-started-with-redis-73f016315317">getting started with redis</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>Â© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
