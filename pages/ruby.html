<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: Ruby - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>Ruby</h2>

        <dl>
          <dt>File size</dt>
          <dd>13.6KB</dd>

          <dt>Lines of code</dt>
          <dd>469</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>Ruby</code></h1>
<p>In Ruby, everything is an object.</p>
<h2>Printing</h2>
<pre class="codehilite"><code class="language-ruby">puts &quot;this prints with a newline&quot; # puts
print &quot;this prints without a newline/n&quot; # print
</code></pre>

<h2>Comment</h2>
<pre class="codehilite"><code class="language-ruby"># single-line comment

=begin
this
is
a
multi-line
comment
=end

# everything is an object in Ruby

3.class # Integer
&quot;Hello&quot;.class # String
&quot;Hello&quot;.method(:class).class # Method
:pending.class # Symbol
</code></pre>

<h2>Variables, Constants, Scope</h2>
<pre class="codehilite"><code class="language-ruby"># ---------- VARIABLE ----------
    # variable assignment returns the value assigned
    # by convention, snake_case used for variable names

a_variable = 25
another_variable = &quot;awesome sauce&quot;
yet_another_variable = true

x = y = 10 # this will assign 10 to y, and that will then return 10 which is assigned to x

# ---------- SCOPE ----------
    # $ for global variables
    # @ for instance scope 
    # @@ for class scope
    # capitalised variable names for constants

$var = &quot;I'm a global variable&quot;
@var = &quot;I'm an instance variable&quot;
@@var = &quot;I'm a class variable&quot;
Var = &quot;I'm a constant&quot;
</code></pre>

<h2>Types</h2>
<pre class="codehilite"><code class="language-ruby"># ---------- STRING ----------

eg_string = &quot;hello world&quot; 

# FORMATTED STRINGS

placeholder = &quot;watermelon&quot;
put &quot;I really am the largest #{placeholder} in this County.&quot; # formatted string

# STRING CONCATENATION
    # + can concatenate two strings together but not with other types

&quot;hello&quot; + &quot;world&quot; # &quot;hello world&quot;
&quot;hello&quot; + 3.to_s # &quot;hello3&quot;, this is okay because the number 3 undergoes type conversion
&quot;hello#{3}&quot; # &quot;hello3&quot;
&quot;hello&quot; &lt;&lt; &quot; world&quot; # &quot;hellow world&quot;, appends a string to a string

# STRING MULTIPLICATION
    # just like Python!

&quot;hello&quot; * 3 # evaluates to &quot;hellohellohello&quot;
&quot;ok and &quot; * 2 # evaluates to &quot;ok and ok and &quot;

# ---------- NUMBER ----------
    # covers integers, floats and doubles like Typescript

eg_number = 1000
another_eg_number = 1.23

# ARITHMETIC OPERATORS
    # arithmetic is just syntatic sugar for calling a method on an object

1 + 1 # addition
8 - 1 # subtraction
10 * 2 # multiplication
35 / 5 # division
2 ** 5 # power 
5 % 3 # modulo
1 &lt; 10 # comparison operators
1 &gt; 10 # comparison operators
1 &lt;= 10 # comparison operators
1 &gt;= 10 # comparison operators
1 == 1 # complete equality, of both type and value
1 != 1 # complete inequality, of both type and value

# ---------- BOOLEAN -----------

eg_bool = true # of the TrueClass
other_eg_bool = false # of the FalseClass

# LOGICAL OPERATORS

true &amp;&amp; false # and, evaluates to false
true || false # or, evaluates to true

# by convention, all methods that return booleans end with a question mark
5.even? # returns false
5.odd? # returns true

# ---------- SYMBOL ----------
    # symbols are immutable reusable constants often used in place of strings to convey specific meaning
    # represented internally by an integer

status = :pending
status == :pending # returns true
status == &quot;pending&quot; # returns false
status == :approved # returns false
status == &quot;pending&quot;.to_sym # returns true since type conversion of String to Symbol

# ---------- SPECIAL VALUES ----------
nil # evaluates to false, same as null, of the NilClass
</code></pre>

<h2>Data structures</h2>
<pre class="codehilite"><code class="language-ruby"># BOTH ARRAYS AND HASHES ARE ENUMERABLE!

# ---------- ARRAY ----------
    # similar to Javascript arrays, arrays can store multiple values of different types

eg_array = [1,2,3,4,5]
mixed_array = [1, &quot;hello&quot;, true]
another_mixed_array = %w[foo bar baz] # this evaluates to [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]

# ARRAY METHODS

# INDEXING and SLICES
    # similar to Python
    # this is also just syntatic sugar to call the method [] on the array object

eg_array[0] # returns 1
eg_array.first # also returns 1
eg_array[12] # returns nil since index out of range

eg_array[-1] # returns last element, 5
eg_array.last # also returns 5

eg_array[2,3] # returns subarray of start index and length, [3,4,5]
eg_array[1..3] # returns a subarray of indexes specified in a range, similar to Python, [2,3,4]

## APPEND VALUE

eg_array &lt;&lt; 6 # eg_array is now [1,2,3,4,5,6]
eg_array.push(6) # this does the same as the above

## CHECK IF VALUE IN ARRAY

eg_array.include?(1) # evaluates to true
eg_array.include?(100) # evaluates to false

# REVERSE AN ARRAY

[1,2,3].reverse # evaluates to [3,2,1]

# ---------- HASH ---------- 
    # similar to PHP's associative arrays
    # the equivalent of Python's dictionaries or Javascript's objects
    # stores key-value pairs
    # you can use symbols for keys also

eg_hash = {
    &quot;color&quot; =&gt; &quot;green&quot;,
    &quot;number&quot; =&gt; 5
}

eg_hash.keys # returns [&quot;color&quot;, &quot;number&quot;]
eg_hash[&quot;color&quot;] # returns &quot;green&quot;
eg_hash[&quot;number&quot;] # returns 5
eg_hash[&quot;nothing here&quot;] # returns nil since the key doesn't exist 

# to use symbol as keys
another_hash = {
    :defcon =&gt; 3,
    :action =&gt; true
}
another_hash.keys # returns [:defcon, :action]

# an alternative syntax when using symbols for keys

yet_another_hash = {
    defcon:3, 
    action:true
}
yet_another_hash.keys # also returns [:defcon, :action]

yet_another_hash.key?(:defcon) # checks the existence of keys in hash, evaluates to true
yet_another_hash.value?(3) # checks the existence of values in hash, evaluates to true
</code></pre>

<h2>Control structures and logic flow</h2>
<pre class="codehilite"><code class="language-ruby"># ---------- CONDITIONALS ----------
    # similar syntax to bash
    # postfix-if notation is available also

# if elsif else

if true
    &quot;if statement&quot;
elsif false
    &quot;else if, optional&quot;
else
    &quot;else, also optional&quot;
end

warnings = [&quot;Patronimic is missing&quot;, &quot;Address is too short&quot;]
puts(&quot;Some warnings occured:\n&quot; + warnings.join(&quot;\n&quot;)) if !warnings.empty? # postfix-if notation can be used for single statements with no code blocks
puts(&quot;Some warnings occured:\n&quot; + warnings.join(&quot;\n&quot;)) unless warnings.empty? # unless can be used in place with if

# case when else
    # else functions as the default statement
    # cases can also use ranges!

grade = &quot;B&quot;
case grade
when &quot;A&quot;
    puts &quot;lovely&quot;
when &quot;B&quot;
    puts &quot;ok but good job&quot;
when &quot;C&quot;
    puts &quot;watermelon sugar high&quot;
else
    puts &quot;Alternative grading system, eh?&quot;
end

num_grade = 82
case num-grade
when 90..100
    puts &quot;nice one&quot;
when 80..90
    puts &quot;lovely job&quot;
else
    puts &quot;You failed!&quot;
end

# ---------- LOOPS ----------
    # traditional for loops aren't common
    # basic loops are implemented with each enumerable
    # also similar syntax to bash and rust
    # Ruby has other looping functions like map, reduce and inject

# .each DO AND .each_with_index DO LOOPS

# APPROVED SYNTAX AND COMMONLY SEEN
(1..5).each do |counter|
    puts &quot;this is the ${counter}&quot;
end

# this is also approved syntax since blocks can be wrapped in curly braces
(1..5).each {|counter| puts &quot;this is also the #{counter}&quot;}

# APPROVED SYNTAX BUT RARELY SEEN
for counter in 1..5
    puts &quot;iteration #{counter}&quot;
end

# you can also iterate over elements in data structrues like Hashes and Maps
array.each do |element|
    puts &quot;this is an #{element}&quot;
end
hash.each do |key,value|
    puts &quot;this is a #{key} and this is a #{value}&quot;
end

# .each_with_index returns an index with an iterable, similar to enumerate() in python
array.each_with_index do |element, index|
    puts &quot;#{element} and this is an #{index}&quot;
end

# WHILE DO LOOPS
counter = 1
while counter &lt;= 5 do
    puts &quot;iteration #{counter}&quot;
    counter += 1
end
</code></pre>

<h2>Methods</h2>
<p>Since Ruby is largely OOP, functions are methods called on objects.</p>
<pre class="codehilite"><code class="language-ruby"># ---------- METHODS ----------
    # similar to Scala and Rust, methods implictly return the value of the last statement
    # def
    # yield

def double(x)
    x * 2 # x * 2 is returned
end

double(2) # this returns 4
double 3 # parantheses are optional when interpretation of methods is unambigious, this returns 6

double double 3 # this returns 12

def sum(x,y)
    x + y
end

sum 3,4 # method arguments are separated by commas, this returns 7
sum sum (3,4), 5 # this returns 12

# yield
    # implicit optional block parameter that can be returned

def surround 
    puts &quot;{&quot;
    yield
    puts &quot;}&quot;
end

surround {puts &quot;hello world&quot;} # this returns { hello world } with hello world being a variable

# by convention, if the method name ends with an exclamation mark, the method does something destructive like mutate the receiver
    # many methods have ! version that modifies the existing object, and a non-! version that returns a copy of the changed version
</code></pre>

<h2>Class</h2>
<pre class="codehilite"><code class="language-ruby"># ---------- CLASSES ----------
class Human # create a class

    @@species = &quot;Homo Sapiens&quot; # @@ creates a class variable that is shared across all instances of the Human class

    # INSTANCE METHODS

    def initialize(name, age=0) # default constuctor method, it can be named anything really and serves the purpose of assigning values to the attributes of the instance object
        @name = name
        @age = age
    end

    def name=(name) # basic setter method
        @name = name
    end

    def name # basic getter method
        @name
    end

    # CLASS METHODS
        # only be called on the class, not an instance object

    def self.say(msg) # the self. distinguishes a class method from an instance method
        puts msg
    end

    def species
        @@species
    end

end

# INSTANTIATING A NEW CLASS OBJECT
    # .new()

jim = Human.new(&quot;Jimmy Neutron&quot;)
dwight = Human.new(&quot;Dwight Howard&quot;)

# calling instance methods
jim.species
jim.name # returns the name as a String
jim.name = &quot;Jim the science guy&quot; # takes in the assigned String value as the new instance object attribute
dwight.species

# calling class methods
Human.say(&quot;Hello sir&quot;) # returns &quot;Hello sir&quot;

# INHERITANCE

class Worker &lt; Human # class Worker inherits all attributes and methods of the Human class
end
</code></pre>

<h2>Exception handling</h2>
<pre class="codehilite"><code class="language-ruby"># ---------- EXCEPTION HANDLING ----------
    # begin
    # raise
    # rescue =&gt;
    # ensure
    # else

begin
  raise NoMemoryError, 'You ran out of memory.' # raises an exception
rescue NoMemoryError =&gt; exception_variable
  puts 'NoMemoryError was raised', exception_variable
rescue RuntimeError =&gt; other_exception_variable
  puts 'RuntimeError was raised now'
else
  puts 'This runs if no exceptions were thrown at all'
ensure
  puts 'This code always runs no matter what'
end
</code></pre>

<h2>More on</h2>
<ul>
<li>destructuring</li>
<li>splat operator</li>
<li><a href="https://try.ruby-lang.org/">try ruby</a></li>
<li><a href="https://www.ruby-lang.org/en/documentation/quickstart/">ruby documentation</a></li>
<li><a href="https://learnxinyminutes.com/docs/ruby/">learn ruby in y minutes</a></li>
<li><a href="https://rubygems.org/">rubygems package manager</a></li>
<li><a href="https://rvm.io/">ruby version manager</a></li>
<li><a href="http://www.rubymotion.com/">rubymotion for ios development</a></li>
<li><a href="https://bundler.io/">bundler for ruby dependency management</a></li>
<li><a href="https://learnxinyminutes.com/docs/ruby-ecosystem/">learn ruby's ecosystem in y minutes</a></li>
<li><a href="https://haml.info/docs.html">haml documentation</a></li>
<li><a href="https://learnxinyminutes.com/docs/haml/">learn haml in y minutes</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
