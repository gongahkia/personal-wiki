<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: Crystal - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>Crystal</h2>

        <dl>
          <dt>File size</dt>
          <dd>8.8KB</dd>

          <dt>Lines of code</dt>
          <dd>295</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>Crystal</code></h1>
<h2>Comments</h2>
<pre class="codehilite"><code class="language-cr"># ---------- COMMENT ----------

# this is a single-line comment
# there is no built-in syntax for multi-line comments
</code></pre>

<h2>Quickstart</h2>
<pre class="codehilite"><code class="language-cr"># ---------- QUICKSTART ---------- 
    # ruby-like syntax with implicit static type-checking
    # transpiles to C code with native Crystal bindings, allowing for high-level features with low-level focus on performance
    # everything is an object in Crystal similar to Ruby, and it shares many similarities with Ruby especially in its syntax for handling OOP
</code></pre>

<h2>Printing</h2>
<pre class="codehilite"><code class="language-cr"># ---------- PRINTING ----------
    # puts appends a newline character to the end of the value printed
    # print does not append a newline character to the end of the value printed

puts &quot;this will print something with a newline&quot;
print &quot;this will also print something with a newline, but because we specified it\n&quot;
</code></pre>

<h2>Types</h2>
<pre class="codehilite"><code class="language-cr"># ---------- TYPE ----------
    # Integers (Signed/Unsigned)
        # Int8
        # Int16
        # Int32
        # Int64
        # Int129
        # UInt8
        # UInt16
        # UInt32
        # UInt64
        # UInt128
    # Floats
        # Float32
        # Float64
    # Char ('' single quotation marks)
    # String (&quot;&quot; double quotation marks, immutable)
    # Bool (true/false)
    # Symbol (immutable, reusable constants represented internally as Int32 to convey meaningful values, similar to Ruby)

1_i8 # Int8
1_i16 # Int16
1_i32 # Int32
1_i64 # Int64
1_i128 # Int128
1_u8 # UInt8
1_u16 # UInt16
1_u32 # UInt32
1_u64 # UInt64
1_u128 # UInt128
1.0_f32 # Float32
1.0_f64 # Float64

'a' # Char
&quot;hello world&quot; # String

true # Bool

:question? # Symbol
</code></pre>

<h2>Operators</h2>
<pre class="codehilite"><code class="language-cr"># ---------- ARITHMETIC OPERATOR ----------

+ # addition
- # subtraction
* # multiplication
/ # divison
% # modulo
** # exponentiation

# ---------- COMPARISON OPERATOR ----------

== # complete equality, including type
!= # complete inequality, including type
&lt; # comparison operator
&gt; # comparison operator
&lt;= # comparison operator
&gt;= # comparison operator

# ---------- LOGICAL OPERATOR ----------

&amp;&amp; # and
|| # or
! # not
</code></pre>

<h2>Data structures</h2>
<pre class="codehilite"><code class="language-cr"># ---------- DATA STRUCTURE ----------

# ---------- ARRAY ----------
    # initialized with [] square brackets
    # lists of dynamic size that can store values of different types
    # empty arrays should specify their data type

anArray = [1,2,3,4,5,6]
anotherArray = [1, &quot;hello&quot;, 'x']
anIntArray = Array(Int32).new

# ARRAY METHODS

anArray[1] # returns 2, all data structures are zero-indexed
anArray[-1] # returns 6, negative indexing returns values from the back similar to Python
anArray[2,3] # returns [3,4,5], a start index and size returns a subarray starting from the specified index and counts to the specified size
anArray[1..3] # returns [2,3,4], a range returns a subarray comprising elements from the parent array of the specified indexes within the range
anArray &lt;&lt; 7 # returns [1,2,3,4,5,6,7], appends a value to the array
anArray.pop # returns 7, pop operates the same as in Python and removes and returns the last element of the array
anArray.shift # returns 1, shift operates the same as in Python and removes and returns the first element of the array
anArray.includes? 3 # returns true, .includes? checks for the existence of a value within an array and returns a boolean value

# ---------- HASH ----------
    # equivalent to an associative array in PHP, a dictionary in Python or an object in Javascript
    # stores key-value pairs of any type, the key-value pairs can be of different types even within the same hash

aHash = {
    &quot;color&quot; =&gt; &quot;green&quot;,
    &quot;number&quot; =&gt; 5,
    &quot;watermelon&quot; =&gt; false
}

# HASH METHODS

aHash[&quot;color&quot;] # returns &quot;green&quot;, lookup values by key
aHash.has_key? &quot;color&quot; # returns true, .has_key? checks for the existence of a given key in a hash and returns a boolean value

# ---------- RANGE ----------
    # creation of ranges is easy in Crystal similar to Rust
    # .. creates an inclusive array
    # ... creates an exclusive array (at the end)

aRange = 1..10 # evaluates to [1,2,3,4,5,6,7,8,9,10], creation of an inclusive range
anotherRange = 1...10 # evaluates to [1,2,3,4,5,6,7,8,9], creation of an exclusive range
(1..8).includes? 2 # returns true, .includes? can be similarly called on ranges

# ---------- TUPLE ----------
    # fixed-size immutable stack-allocated sequence of values which can be of different types

aTuple = {1, &quot;hello&quot;, 'x'}

# TUPLE METHODS

aTuple[1] # returns &quot;hello&quot;, access tuple values by their indexes
</code></pre>

<h2>Control structures</h2>
<pre class="codehilite"><code class="language-cr"># ---------- CONDITIONAL CHECK -----------

# IF ELSIF ELSE END
    # note the elsif

if true
  &quot;if statement&quot;
elsif false
  &quot;else-if statement&quot;
else
  &quot;else statement, don't forget the end!&quot;
end

# CASE WHEN END
    # the equivalent of the switch case in other languages
    # allows for a degree of pattern-matching

cmd = &quot;move&quot;
case cmd 
    when &quot;create&quot;
        &quot;Creating&quot;
    when &quot;copy&quot;
        &quot;Copying&quot;
    when &quot;move&quot;
        &quot;Moving&quot;
end

# TERNARY OPERATOR (for the 1% who uses them)
    # syntax is (CONDITIONAL CHECK) ? (RUNS IF TRUE) : (RUNS IF FALSE)

a = 1 &gt; 2 ? 3 : 4 # a evaluates to 4 

# ---------- LOOP ----------

# WHILE LOOP
    # works as you'd expect

index = 0
while index &lt;= 3
  puts index
  index += 1
end

# UNTIL LOOP
    # basically the reverse of a while condition

index = 0
until index &gt; 3 
  puts index # this prints out the exact same thing as the above while loop
  index += 1
end

# EACH DO END LOOP
    # similar to Ruby, the defacto prefereable replacement to for, while and until loops
    # notice it utilises a range to iterate over with the .each, which creates an iterable from a collection of elements

(1..3).each do |index|
  puts index
end
</code></pre>

<h2>Functions</h2>
<pre class="codehilite"><code class="language-cr"># ---------- FUNCTION ----------
    # def and end declare a function block, similar to Python and Lua
    # functions have implicit return (the value of the last statement of a function is implicitly returned)
    # functions can be called without () brackets when the call is unambiguous
    # multiple method arguments are separated by commas

def double(x)
    x * 2 # this value is implicitly returned
end
double 3 # returns 6
double double 3 # returns 12

def sum(x,y)
    x + y # note the implicit return
end
sum 3,4 # returns 7
sum sum(3,4),5 # returns 12
</code></pre>

<h2>More on</h2>
<ul>
<li><a href="Ruby.md">OOP</a> in Crystal (classes and objects)</li>
<li>symbols</li>
<li>proc</li>
<li>yield</li>
<li><a href="https://crystal-lang.org/">crystal documentation</a></li>
<li><a href="https://learnxinyminutes.com/docs/crystal/">learn crystal in y minutes</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>Â© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
