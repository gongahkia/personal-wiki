<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: Dafny - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>Dafny</h2>

        <dl>
          <dt>File size</dt>
          <dd>7.9KB</dd>

          <dt>Lines of code</dt>
          <dd>213</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>Dafny</code></h1>
<p>Language designed specifically for formal verification, widely used in academic and industrial settings for writing reliable software.</p>
<h2>Comments</h2>
<pre class="codehilite"><code class="language-dfy">// ----- COMMENT -----

// this is a single-line comment

/*
this is a
multi-line
comment
*/
</code></pre>

<h2>Printing</h2>
<pre class="codehilite"><code class="language-dfy">// ----- PRINTING -----
    // print =&gt; receives a string argument that is then printed to the stdout without including a newline by default
    // note that Dafny has no standard implementation for printing to the stdout with a newline included automatically

print &quot;this does not have a newline&quot;;
print &quot;this has a newline but only because we explicitly specify its inclusion\n&quot;;
</code></pre>

<h2>Quickstart</h2>
<pre class="codehilite"><code class="language-dfy">// ----- QUICKSTART -----
    // strongly statically-typed
    // ensures program safety and correctness through rigorous specification and control of program behaviour
    // method Main() =&gt; specifies the entry point of a Dafny program wherein all execution code is written, the equivalent of the main function in langauges from the C family
    // :=  =&gt; assignment operator in Dafny, used to assign a value to a given variable or named field
    // : =&gt; specifies the datatype of a given variable, providing type declaration within Dafny

method Main() {
    var x := 5;
    var y := 10;
    var sum := x + y;
    print sum; % this prints without a newline
}
</code></pre>

<h2>Types</h2>
<pre class="codehilite"><code class="language-dfy">// ----- TYPE -----
    // int =&gt; stores an integer whole number value
    // real =&gt; stores a real number value, which covers floating-point number values
    // char =&gt; stores a single character long value declared within '' single quotation marks
    // string =&gt; stores a string value declared within &quot;&quot; double quotation marks
    // bool =&gt; true, false
</code></pre>

<h2>Operators</h2>
<pre class="codehilite"><code class="language-dfy">// ----- OPERATORS -----

// --- ARITHMETIC OPERATORS ---

+ // addition
- // subtraction
* // multiplication
/ // divison
% // modulo

// --- COMPARISON OPERATORS ---

== // complete equality check for both value and type for primitive datatypes, and checks whether it is the same object in memory for reference types
!= // complete inequality check for both value and type for primitive datatypes, and checks whether it is not the same object in memory for reference types
&gt; // comparison operators
&lt; // comparison operators
&gt;= // comparison operators
&lt;= // comparison operators

// --- LOGICAL OPERATORS ---

&amp;&amp; // logical and 
|| // logical or
! // logical not
</code></pre>

<h2>Control structures</h2>
<pre class="codehilite"><code class="language-dfy">// ----- CONTROL STRUCTURES -----

// --- CONDITIONALS ---
    // Dafny has no conventional switch case constructs as in other programming languages
    // instead, basic pattern-matching can still be achieved with if else if else conditional constructs as below

// IF ELSE IF ELSE

method Main() {
    var age := 18;
    if age &gt;= 18 {
        print &quot;Adult\n&quot;;
    } else if age &gt;= 13 {
        print &quot;Teenager\n&quot;;
    } else {
        print &quot;Child\n&quot;;
    }
}

// --- LOOPS ---
    // Dafny does not have conventional for loop constructs as in other programming languages, but while loops can still be used to achieve some of the effects of for loop range-based iteration
    // this is in line with Dafny's emphasis on loop invariants and termination proofs to ensure verification correctness

// WHILE

method Main() {
    var i := 0;
    while i &lt; 5 {
        print i;
        print &quot;\n&quot;;
        i := i + 1;
    }
}
</code></pre>

<h2>Data structures</h2>
<pre class="codehilite"><code class="language-dfy">// ----- DATA STRUCTURES -----
    // array =&gt; fixed-size mutable ordered collection of elements of the same datatype
    // sequence =&gt; dynamically-sized mutable ordered collection of elements of the same datatype
    // set =&gt; mutable unordered collection of unique elements of the same datatype
    // map =&gt; mutable unordered collection of key-value pairs of multiple datatypes with unique keys, the equivalent of dictionaries in Python
    // tuple =&gt; immutable fixed-size ordered collection of elements of multiple datatypes
    // datatype =&gt; immutable user-defined variant enumeration datatype with optional specified named fields and their datatypes, allowing the modelling of the variants of representative structured data, the equivalent of a hybrid of enums and structs in other languages

var anExampleArray := new int[5];
anExampleArray[0] := 10;
anExampleArray[1] := 20;
anExampleArray[2] := 30;
anExampleArray[3] := 40;
anExampleArray[4] := 50;

var anExampleSequence := [1, 2, 3, 4, 5];

var anExampleSet := set {1, 2, 3};

var anExampleMap := map[1 := &quot;one&quot;, 2 := &quot;two&quot;];

var anExampleTuple := (1, &quot;two&quot;);

datatype anExampleDatatype := John | Elaine | Roger
datatype Color = Red | Green | Blue
</code></pre>

<h2>Functions and Methods</h2>
<pre class="codehilite"><code class="language-dfy">// ----- FUNCTION -----
    // Dafny inherits some characteristics from the functional paradigm, including implicit return of the last expression within the function body
    // function &lt;functionName&gt; ( &lt;functionParameterName(s)&gt; : &lt;functionParameterDatatype(s)&gt; ) : &lt;functionReturnDatatype&gt; { &lt;functionBody&gt; } =&gt; function declaration and definition of a named function

function add(a: int, b: int): int {
    a + b
}
</code></pre>

<h2>More on</h2>
<ul>
<li><a href="https://dafny.org/dafny/Installation">install dafny</a></li>
<li><a href="https://marcfrappier.espaceweb.usherbrooke.ca/IFT734/ref/dafny/documents/Dafny%20tutorial-web.pdf">methods in dafny</a></li>
<li><a href="https://trepo.tuni.fi/bitstream/handle/10024/96327/GRADU-1416392953.pdf?sequence=1&amp;isAllowed=y">object-oriented programming in dafny</a></li>
<li><a href="https://dafny.org/dafny/DafnyRef/DafnyRef.html">dafny documentation</a></li>
<li><a href="https://webcms3.cse.unsw.edu.au/static/uploads/course/SENG2011/16s1/bf5522d15159428494b373f49f10021645fbbe94724e8dc6fed13d08c1919b85/DafnyCheatsheet.pdf">dafny cheatsheet</a></li>
<li><a href="https://dafny.org/">dafny org</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>Â© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
