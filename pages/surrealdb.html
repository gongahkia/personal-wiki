<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: SurrealDB - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>SurrealDB</h2>

        <dl>
          <dt>File size</dt>
          <dd>15.7KB</dd>

          <dt>Lines of code</dt>
          <dd>161</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>SurrealDB</code></h1>
<p>Schrödinger's multi-model database.</p>
<h2>Introduction</h2>
<ul>
<li>engine written in Rust</li>
<li>combines elements of relational, graph and document database paradigms</li>
<li>used for modern web, mobile, and server application development</li>
<li>has both SQL and NoSQL features for powerful querying capabilities with flexible data modelling</li>
<li>SurrealDB also supports <ul>
<li>ACID transactions</li>
<li>real-time notifications</li>
<li>geospatial data</li>
<li>predefined analytics</li>
<li>multi-tenancy</li>
<li>built-in authentication</li>
<li>permissions authorization</li>
<li>integrated full-text search</li>
<li>optimistic concurrency control</li>
</ul>
</li>
</ul>
<h2>Quickstart</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">-- ----- QUICKSTART -----</span>
<span class="w">    </span><span class="c1">-- there isn&#39;t a syntax overview here since SurrealDB extends upon existing SQL syntax which most developers are familiar with</span>
<span class="w">    </span><span class="c1">-- recall that SurrealDB allows developers to leverage on both the default schemaless (NoSQL) modelling, and the more structured schemafull (conventional SQL) modelling as desired</span>
<span class="w">    </span><span class="c1">-- however, note that there are no JOIN constructs in SurrealDB, and it instead handles relational database modelling via record links and graph connections</span>

<span class="c1">-- --- SCHEMAFULL MODELLING ---</span>
<span class="w">    </span><span class="c1">-- below is an example of SurrealDB handling conventional SQL queries with structured data </span>
<span class="w">    </span><span class="c1">-- this should be nothing new for developers well-acquainted with SQL&#39;s syntax</span>

<span class="k">CONNECT</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">surrealdb</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span><span class="p">;</span><span class="w"> </span><span class="c1">-- connects to the local database</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">my_database</span><span class="p">;</span><span class="w"> </span><span class="c1">-- creates a new database</span>
<span class="n">USE</span><span class="w"> </span><span class="n">my_database</span><span class="p">;</span><span class="w"> </span><span class="c1">-- select the created database</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<span class="w">    </span><span class="n">email</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<span class="w">    </span><span class="n">age</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span>
<span class="w">    </span><span class="n">address</span><span class="w"> </span><span class="k">OBJECT</span>
<span class="p">);</span><span class="w"> </span><span class="c1">-- create a new table with a defined schema and structure</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;user1&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;john@example.com&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">30</span><span class="p">,</span>
<span class="w">    </span><span class="err">{</span><span class="w"> </span><span class="n">street</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;123 Main St&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Anytown&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">zip</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;12345&#39;</span><span class="w"> </span><span class="err">}</span>
<span class="p">);</span><span class="w"> </span><span class="c1">-- insert data into the table</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w"> </span><span class="c1">-- querying data</span>
<span class="k">UPDATE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;john.doe@example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;user1&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- updating data</span>
<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;user1&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- deleting data</span>

<span class="c1">-- --- SCHEMALESS MODELLING ---</span>
<span class="w">    </span><span class="c1">-- below is an example of SurrealDB then handling unstructured data in the same database as above</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">documents</span><span class="p">;</span><span class="w"> </span><span class="c1">-- create a new table without a predefined schema, thereby leveraging on NoSQL capabilities</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;doc1&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;SurrealDB Overview&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="ss">&quot;body&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;SurrealDB is a scalable, distributed database...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="ss">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="ss">&quot;database&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;scalable&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;distributed&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="ss">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="ss">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;John Doe&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="ss">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;2024-07-03&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="ss">&quot;revisions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="p">);</span><span class="w"> </span><span class="c1">-- insert first instance of unstructured data into the table</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;doc2&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;Getting Started with SurrealDB&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="ss">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;This guide will help you get started with SurrealDB...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="ss">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="ss">&quot;guide&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;tutorial&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="ss">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="ss">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;Jane Smith&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="ss">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;2024-07-03&quot;</span>
<span class="w">        </span><span class="err">}</span><span class="p">,</span>
<span class="w">        </span><span class="ss">&quot;related_documents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="ss">&quot;doc1&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="err">}</span>
<span class="p">);</span><span class="w"> </span><span class="c1">-- insert another document instance with a different structure into the table, SurrealDB handles this just fine</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">content</span><span class="o">-&gt;</span><span class="s1">&#39;metadata&#39;</span><span class="o">-&gt;&gt;</span><span class="s1">&#39;author&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;John Doe&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- querying data</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="s1">&#39;database&#39;</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="n">content</span><span class="o">-&gt;</span><span class="s1">&#39;tags&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- querying data with tags</span>
</code></pre></div>

<h2>More on</h2>
<ul>
<li><a href="https://surrealdb.com/docs/surrealdb/surrealql/datamodel/records">record links</a></li>
<li><a href="https://surrealdb.com/docs/surrealdb/surrealql/statements/relate">graph connections</a></li>
<li><a href="https://surrealdb.com/docs/surrealdb/surrealql/statements/define/event">events</a></li>
<li><a href="https://www.databricks.com/glossary/acid-transactions">acid transaction</a></li>
<li><a href="https://surrealdb.com/docs/surrealdb/tutorials/">implement a feature in surrealdb</a></li>
<li><a href="https://github.com/surrealdb/examples">surrealdb by example</a></li>
<li><a href="https://surrealdb.com/install">install surrealdb</a></li>
<li><a href="https://surrealdb.com/">surrealdb.com</a></li>
<li><a href="https://surrealdb.com/docs/">surrealdb documentation</a></li>
<li><a href="https://www.reddit.com/r/rust/comments/1b69gsp/have_any_of_you_used_surrealdb_and_what_are_your/">why use surrealdb</a></li>
<li><a href="https://youtu.be/LCAIkx1p1k0?si=WLthG0cjpL6AxfoQ">beyond surrealdb with fireship</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
