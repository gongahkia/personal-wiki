<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: CMake - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  <style>
    .thin-space:after{content:"\2006"}
    pre {
      overflow-x: auto;
      max-width: 100%;
    }
  </style>
  <script src="../script.js" defer></script>
  <title>GABRIEL ONG</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>

  <main>
    <article class="overallArticleTags">

      <section class="note-header">
        <h2>CMake</h2>

        <dl>
          <dt>File size</dt>
          <dd>7.3KB</dd>

          <dt>Lines of code</dt>
          <dd>116</dd>
        </dl>
      </section>

      <section class="note-content">
        <h1><code>CMake</code></h1>
<p>Makes Makefiles.</p>
<h2>Introduction</h2>
<ul>
<li>cross-platform project build-system generator to create platform-specific build files (most commonly <a href="https://www.gnu.org/software/make/manual/make.html">Makefiles</a>)</li>
<li>flexibly handles dependancy configurations across different platforms at any scale</li>
<li><code>CMakeLists.txt</code> defines CMake's build process </li>
<li>syntax has a higher degree of abstraction and is easier to write than Make</li>
<li>encourages out-of-source builds (keeping build files separate from source files)</li>
<li>used for project configuration, building and testing</li>
</ul>
<h2>Quickstart</h2>
<div class="codehilite"><pre><span></span><code><span class="c"># ----- QUICKSTART -----</span>
<span class="w">    </span><span class="c"># this is a comment in CMake</span>

<span class="c"># ----- SYNTAX OVERVIEW -----</span>
<span class="w">    </span><span class="c"># project(&lt;name&gt; [&lt;programmingLanguage(s)&gt;]) =&gt; defines the project name and possible programming languages to be used</span>
<span class="w">    </span><span class="c"># cmake_minimum_required(VERSION &lt;versionNumber&gt;) =&gt; specifies the minimum required CMake version</span>
<span class="w">    </span><span class="c"># set(&lt;variableIdentifier&gt; &lt;variableValue&gt;) =&gt; sets a specified value to a given variable</span>
<span class="w">    </span><span class="c"># option(&lt;variableIdentifier&gt; &quot;&lt;optionalDescription&gt;&quot; &lt;defaultSpecifiedValue&gt;) =&gt; creates an option with a description and a default value</span>
<span class="w">    </span><span class="c"># add_executable(&lt;executableName&gt; [&lt;sourceFilePath(s)&gt;]) =&gt; adds an executable target under the specified name and source file path</span>
<span class="w">    </span><span class="c"># add_library(&lt;libraryName&gt; [&lt;STATIC, SHARED, MODULE&gt;] [sourceFilePath(s)]) =&gt; adds library targets at the specified file paths under the given name</span>
<span class="w">    </span><span class="c"># target_include_directories(&lt;targetName&gt; [SYSTEM] [&lt;AFTER, BEFORE&gt;] &lt;INTERFACE, PUBLIC, PRIVATE&gt; [directoryInternalItem(s)]) =&gt; specifies a given target file path is to be included, effectively highlighting the givne file as a dependancy for building</span>
<span class="w">    </span><span class="c"># target_link_libraries(&lt;targetName&gt; [&lt;INTERFACE, PUBLIC, PRIVATE&gt;] &lt;libraryName(s)&gt;) =&gt; links all the specified libraries to the provided target</span>
<span class="w">    </span><span class="c"># find_package(&lt;packageName&gt; [&lt;packageVersion&gt;] [REQUIRED] [COMPONENTS]) =&gt; finds and loads settings for external packages</span>
<span class="w">    </span><span class="c"># add_custom_command() =&gt; adds the specified custom command to a given target</span>
<span class="w">    </span><span class="c"># add_custom_target() =&gt; adds the specified custom target that can be built using previously declared custom commands</span>

<span class="c"># ----- EXAMPLE CMAKELISTS.TXT FILE -----</span>
<span class="w">    </span><span class="c"># CMakeLists.txt files generally follow the below structure</span>

<span class="c"># minimum CMake version required</span>
<span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.10</span><span class="p">)</span>

<span class="c"># project name and version</span>
<span class="nb">project</span><span class="p">(</span><span class="s">HelloWorld</span><span class="w"> </span><span class="s">VERSION</span><span class="w"> </span><span class="s">1.0</span><span class="p">)</span>

<span class="c"># specify C++ standard to be used</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD</span><span class="w"> </span><span class="s">11</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD_REQUIRED</span><span class="w"> </span><span class="s">True</span><span class="p">)</span>

<span class="c"># add executables</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">hello_world</span><span class="w"> </span><span class="s">main.cpp</span><span class="p">)</span>

<span class="c"># specify directories to be included</span>
<span class="nb">target_include_directories</span><span class="p">(</span><span class="s">hello_world</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="o">${</span><span class="nv">PROJECT_SOURCE_DIR</span><span class="o">}</span><span class="s">/include</span><span class="p">)</span>

<span class="c"># find and link external libraries </span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">Boost</span><span class="w"> </span><span class="s">1.65</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">hello_world</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">Boost::Boost</span><span class="p">)</span>
</code></pre></div>

<h2>More on</h2>
<ul>
<li><a href="https://cmake.org/cmake/help/latest/manual/cmake-packages.7.html">cmake packages</a></li>
<li><a href="https://cliutils.gitlab.io/modern-cmake/chapters/basics/structure.html">cmake project structure</a></li>
<li><a href="https://cmake.org/cmake/help/book/mastering-cmake/chapter/Testing%20With%20CMake%20and%20CTest.html">testing with ctest</a></li>
<li><a href="https://cmake.org/">cmake.org</a></li>
<li><a href="https://cmake.org/documentation/">cmake documentation</a></li>
<li><a href="https://learnxinyminutes.com/docs/cmake/">learn cmake in y minutes</a></li>
</ul>
      </section>

    </article>

    <footer>
      <p>Â© 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>

  <div class="wrapper"></div>
</body>
</html>
