<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Wiki Note: Bash - Gabriel Ong">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Gabriel Ong">
  <meta name="robots" content="index, follow">
  
  <meta property="og:title" content="Bash | Gabriel Ong Wiki">
  <meta property="og:description" content="Wiki Note: Bash - Gabriel Ong">
  <meta property="og:type" content="article">
  
  <meta property="og:image" content="https://gabrielongzm.com/asset/portrait/gong-2.png">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Bash | Gabriel Ong Wiki">
  <meta name="twitter:description" content="Wiki Note: Bash - Gabriel Ong">
  
  <link rel="stylesheet" href="../../style.css">
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntl-Regular-WebXL.woff2" as="font" crossorigin="anonymous">
  
  <link rel="preload" href="https://res.hajimehoshi.com/fonts/SuisseIntlMono-Regular-WebXL.woff2" as="font" crossorigin="anonymous">

  <style>.thin-space:after{content:"\2006"}</style>
  
  <style>pre { overflow-x: auto; max-width: 100%; }</style>

  <script src="../script.js" defer></script>
  <title>Bash | Gabriel Ong Wiki</title>
  <link rel="shortcut icon" href="../asset/blob.ico" type="image/x-icon">
</head>
<body>
  <div id="click-container"></div>
  <input type="button" id="dark-mode">
  <label for="dark-mode">
    <img id="infinityButton" src="../asset/roller.png" height="24" width="24"/>
  </label>
  <main>
    <article class="overallArticleTags">
      
      <section class="note-header">
        <h2>Bash</h2>
        <dl>
          <dt>File size</dt>
          <dd>25.0KB</dd>
          <dt>Lines of code</dt>
          <dd>324</dd>
        </dl>
      </section>
      <section class="note-content">
        <h1><code>Bash</code></h1>
<p>Shell scripting language to pimp out your Arch-Neovim-Tmux development setup.</p>
<h2>Comments</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- COMMENT ----------</span>

<span class="c1"># this is a single-line comment</span>

:<span class="s1">&#39;</span>
<span class="s1">this is a </span>
<span class="s1">multi-line</span>
<span class="s1">comment</span>
<span class="s1">&#39;</span>
</code></pre></div>

<h2>Printing</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- PRINT ----------</span>
<span class="w">    </span><span class="c1"># echo =&gt; prints a string and appends a newline to the output by default</span>
<span class="w">        </span><span class="c1"># -n =&gt; flag specifies not to include a newline in the output</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;i want to play dead space and this includes a newline automatically&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;this does not include a newline by default and we must explicitly specify it\n&quot;</span>
</code></pre></div>

<h2>Quickstart</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- QUICKSTART ----------</span>
<span class="w">    </span><span class="c1"># running a bash file requires us to first convert it to an executable using =&gt; chmod +x {FILENAME}, then run it using =&gt; ./{FILENAME}</span>
<span class="w">    </span><span class="c1"># within the cli, the one input source is stdin and the two outputs sourced are stdout and stderr comprising the three streams</span>
<span class="w">        </span><span class="c1"># stdin =&gt; 0, standard input, where user input taken in using read goes</span>
<span class="w">        </span><span class="c1"># stdout =&gt; 1, standard output to the console in response to a command by the programmer running succesfully</span>
<span class="w">        </span><span class="c1"># stderr =&gt; 2, standard error to the console when a command by the programmer results in an error</span>
<span class="w">    </span><span class="c1"># Bash is powerful because most unix-compatible cli commands are valid commands that can be used within a Bash script</span>
</code></pre></div>

<h2>Variables</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- VARIABLE ----------</span>
<span class="w">    </span><span class="c1"># $ =&gt; inserted in front of variable names whenever a variable is called similar to PHP</span>
</code></pre></div>

<h2>Types</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- TYPE ----------</span>
<span class="w">    </span><span class="c1"># String =&gt; strings and chars, declared with &quot;&quot; double quotation marks</span>
<span class="w">    </span><span class="c1"># Number =&gt; integers and floats, though numbers are treated as Strings by default</span>
<span class="w">    </span><span class="c1"># Boolean =&gt; Bash has no default true or false values, instead the success and failure of commands model boolean values</span>
</code></pre></div>

<h2>Operators</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- OPERATOR ----------</span>

<span class="c1"># ARITHMETIC OPERATORS</span>
<span class="w">    </span><span class="c1"># + =&gt; addition</span>
<span class="w">    </span><span class="c1"># - =&gt; subtraction</span>
<span class="w">    </span><span class="c1"># * =&gt; multiplication</span>
<span class="w">    </span><span class="c1"># / =&gt; division</span>
<span class="w">    </span><span class="c1"># % =&gt; modulo operator</span>

<span class="c1"># LOGICAL OPERATORS</span>
<span class="w">    </span><span class="c1"># &amp;&amp; =&gt; logical and</span>
<span class="w">    </span><span class="c1"># || =&gt; logical or</span>
<span class="w">    </span><span class="c1"># ! =&gt; logical not</span>

<span class="c1"># COMPARISON OPERATORS</span>
<span class="w">    </span><span class="c1"># == =&gt; partial equality check for string values, not type</span>
<span class="w">    </span><span class="c1"># != =&gt; partial inequality check for string values, not type</span>
<span class="w">    </span><span class="c1"># -eq =&gt; partial equality check for numeric values, not type</span>
<span class="w">    </span><span class="c1"># -ne =&gt; partial inequality check for numeric values, not type</span>
<span class="w">    </span><span class="c1"># &gt; &lt; &gt;= &lt;= are also valid comparison operators</span>
</code></pre></div>

<h2>Control structures</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- CONTROL STRUCTURE ----------</span>

<span class="c1"># ---------- CONDITIONALS ----------</span>

<span class="c1"># IF ELIF ELSE</span>
<span class="w">    </span><span class="c1"># predicate is surrounded by [] square brackets</span>

<span class="nv">peepee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="nv">$peepee</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">10</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;peepee is equal to 10!&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="nv">$peepee</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">10</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;peepee is not equal to 10!&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;logically speaking this should not be possible&quot;</span>
<span class="k">fi</span>

<span class="c1"># CASE IN *</span>
<span class="w">    </span><span class="c1"># case in =&gt; declares a case block similar to switch case statements in other languages</span>
<span class="w">    </span><span class="c1"># ) =&gt; appends every case statement&#39;s specified value</span>
<span class="w">    </span><span class="c1"># ;; =&gt; append every case statement&#39;s logic, acting as the equivalent of a break statement to ensure logic breaks out after a given case is hit</span>
<span class="w">    </span><span class="c1"># * =&gt; specifies the default case should all other conditions fall through</span>

<span class="nv">car</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="k">case</span><span class="w"> </span><span class="nv">$car</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span><span class="s2">&quot;BMW&quot;</span><span class="w"> </span><span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;your kar is a BMW&quot;</span><span class="p">;;</span>
<span class="w">    </span><span class="s2">&quot;Toyota&quot;</span><span class="w"> </span><span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;aigh bet&quot;</span><span class="p">;;</span>
<span class="w">    </span><span class="s2">&quot;Honda&quot;</span><span class="w"> </span><span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;your car is a Hoonda&quot;</span><span class="p">;;</span>
<span class="w">    </span><span class="s2">&quot;Toyota&quot;</span><span class="w"> </span><span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;car ni na&quot;</span><span class="p">;;</span>
<span class="w">    </span>*<span class="w"> </span><span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;this is the default case&quot;</span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># ---------- LOOPS ----------</span>
<span class="w">    </span><span class="c1"># break =&gt; breaks out of the current loop</span>
<span class="w">    </span><span class="c1"># condition =&gt; skips to the next iteration of the given loop</span>

<span class="c1"># WHILE DO LOOPS</span>
<span class="w">    </span><span class="c1"># loop condition specified within [] square brackets</span>

<span class="nv">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$number</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$number</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">$((</span><span class="nv">number</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>
<span class="k">done</span>

<span class="c1"># UNTIL LOOPS</span>
<span class="w">    </span><span class="c1"># loop condition specified within [] square brackets</span>
<span class="w">    </span><span class="c1"># equivalent of a while false loop in Bash</span>

<span class="nv">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="k">until</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$number</span><span class="w"> </span>-ge<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$number</span>
<span class="w">    </span>number<span class="w"> </span><span class="k">$((</span><span class="nv">number</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>
<span class="k">done</span>

<span class="c1"># FOR LOOPS</span>
<span class="w">    </span><span class="c1"># allows for rudimentary for loops with an explicit start, step and end</span>

<span class="k">for</span><span class="w"> </span><span class="o">((</span><span class="w"> </span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>i&lt;<span class="m">5</span><span class="p">;</span><span class="w"> </span>i++<span class="w"> </span><span class="o">))</span><span class="w"> </span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>

<span class="c1"># FOR IN LOOPS</span>
<span class="w">    </span><span class="c1"># allows for iteration over a specified range</span>
<span class="w">    </span><span class="c1"># .. =&gt; allows for creation of implicit ranges with the syntax =&gt; {START..END..STEP}</span>

<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span><span class="w"> </span><span class="c1"># prints 1\n2\n3\n4\n5\n to the stdout</span>

<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">0</span>..20..2<span class="o">}</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span><span class="w"> </span><span class="c1"># prints 0\n2\n4\n6\n8\n10\n12\n14\n16\n18\n20\n</span>
</code></pre></div>

<h2>Data structures</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- DATA STRUCTURE ----------</span>

<span class="c1"># ARRAY</span>
<span class="w">    </span><span class="c1"># dynamically-sized ordered sequence of space-delimited elements of the same type declared with () brackets</span>
<span class="w">    </span><span class="c1"># [] =&gt; access elements within the array via their index and assigning new elements to the array using square bracket notation</span>
<span class="w">    </span><span class="c1"># @ =&gt; used as an index to access all elements within the array</span>
<span class="w">    </span><span class="c1"># # =&gt; returns the length of the array</span>
<span class="w">    </span><span class="c1"># unset =&gt; removes an element from the array</span>

<span class="nv">cars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="s2">&quot;BMW&quot;</span><span class="w"> </span><span class="s2">&quot;Toyota&quot;</span><span class="w"> </span><span class="s2">&quot;Honda&quot;</span><span class="o">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">cars</span><span class="p">[1]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># prints out Toyota, the element of index 1</span>
cars<span class="o">[</span><span class="m">3</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tesla&quot;</span><span class="w"> </span><span class="c1"># adds the element of value &quot;Tesla&quot; to the cars array at index 3</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">cars</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># prints out all the elements within the array</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${#</span><span class="nv">cars</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># prints out the length of the array, 3</span>
<span class="nb">unset</span><span class="w"> </span>cars<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="c1"># removes the element Toyota of index 1</span>

<span class="c1"># ASSOCIATIVE ARRAY</span>
<span class="w">    </span><span class="c1"># dynamically-sized unordered sequence of key-value pairs of different types similar to associative arrays in PHP or tables in Lua</span>
<span class="w">    </span><span class="c1"># declare -A =&gt; used to specify a declaration and creation of an associative array at a given name</span>
<span class="w">    </span><span class="c1"># [] =&gt; used to assign and retrieve key-value pairs from the asssociative array</span>

<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span>my_assoc_array
my_assoc_array<span class="o">[</span><span class="s2">&quot;name&quot;</span><span class="o">]=</span><span class="s2">&quot;John&quot;</span>
my_assoc_array<span class="o">[</span><span class="s2">&quot;age&quot;</span><span class="o">]=</span><span class="m">25</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">my_assoc_array</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h2>Functions</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- FUNCTION ----------</span>
<span class="w">    </span><span class="c1"># bash functions don&#39;t list function parameters within the bracket after the function name, but within the function logic</span>
<span class="w">    </span><span class="c1"># $ =&gt; accompanied with a number starting from 1 to indicate the function parameters</span>
<span class="w">    </span><span class="c1"># function =&gt; declares and creates a new function of a specified name</span>

<span class="k">function</span><span class="w"> </span>test_function<span class="o">()</span><span class="w"> </span>
<span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;this is a new function&quot;</span>
<span class="o">}</span>

<span class="k">function</span><span class="w"> </span>test_function<span class="o">()</span>
<span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;hello </span><span class="nv">$1</span><span class="s2">, </span><span class="nv">$2</span><span class="s2">, </span><span class="nv">$3</span><span class="s2">, </span><span class="nv">$4</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># function takes in 4 arguments and prints them sequentially to the stdout</span>
<span class="o">}</span>
</code></pre></div>

<h2>Bash tooling</h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># ---------- TOOLING ----------</span>
<span class="w">    </span><span class="c1"># cat =&gt; returns all text within a specified file</span>
<span class="w">        </span><span class="c1"># &gt; =&gt; writes the specified output to a given file</span>
<span class="w">        </span><span class="c1"># &gt;&gt; =&gt; appends the specified output to a given file</span>
<span class="w">    </span><span class="c1"># mkdir =&gt; creates a folder within the local directory</span>
<span class="w">        </span><span class="c1"># -p =&gt; prevents an error if the Bash executable runs more than once</span>
<span class="w">        </span><span class="c1"># -d =&gt; checks for the existence of a file directory at the specified name</span>
<span class="w">    </span><span class="c1"># touch =&gt; creates a file within the local directory</span>
<span class="w">        </span><span class="c1"># -f =&gt; checks for the existence of a file at the specified name</span>
<span class="w">    </span><span class="c1"># curl =&gt; client url that makes a call request from a local client device to the server</span>
<span class="w">        </span><span class="c1"># -O =&gt; specifies the downloaded file should inherit the name assigned to it by the remote server</span>
<span class="w">        </span><span class="c1"># -o =&gt; specifies the downloaded file should be saved under a specified name as provided by the programmer</span>
<span class="w">        </span><span class="c1"># -I =&gt; retrieves downloaded file metadata</span>
<span class="w">    </span><span class="c1"># grep =&gt; powerful search construct within files that supports regular expressions in the syntax grep {SEARCH PARAMETERS} {FILENAME}</span>
<span class="w">        </span><span class="c1"># -i =&gt; removes case sensitivity</span>
<span class="w">        </span><span class="c1"># -n =&gt; adds line numbers to each returned matched pattern</span>
<span class="w">        </span><span class="c1"># -c =&gt; return matched pattern and the number of matches found</span>
<span class="w">        </span><span class="c1"># -v =&gt; return number of lines within the specified file that don&#39;t have the pattern</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;directory name: &quot;</span>
<span class="nb">read</span><span class="w"> </span>directory_name
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$directory_name</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$directory_name</span>
<span class="k">fi</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;file name: &quot;</span>
<span class="nb">read</span><span class="w"> </span>file_name
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file_name</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span><span class="w"> </span>
<span class="w">    </span>touch<span class="w"> </span><span class="nv">$file_name</span>
<span class="k">fi</span>

<span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://proof.ovh.net/files/1Mb.dat&quot;</span>
curl<span class="w"> </span><span class="si">${</span><span class="nv">url</span><span class="si">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;filename: &quot;</span>
<span class="nb">read</span><span class="w"> </span>file_name
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file_name</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;search parameters: &quot;</span>
<span class="w">    </span><span class="nb">read</span><span class="w"> </span>search_param
<span class="w">    </span>grep<span class="w"> </span>-i<span class="w"> </span>-n<span class="w"> </span>-c<span class="w"> </span>-v<span class="w"> </span><span class="nv">$search_param</span><span class="w"> </span><span class="nv">$file_name</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file_name</span><span class="s2"> does not exist&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h2>More on</h2>
<ul>
<li>select in</li>
<li>^</li>
<li>^^</li>
<li>export</li>
<li>IFS</li>
<li>user input</li>
<li>file IO</li>
<li>heredoc delimiter</li>
<li>string concatenation</li>
<li>sed</li>
<li><a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html">bash documentation</a></li>
<li><a href="https://learnxinyminutes.com/docs/bash/">learn bash in y minutes</a></li>
</ul>
      </section>

    </article>
    <footer>
      <p>&copy; 2023-<span id="current-year"></span> Gabriel Ong. All rights reserved.</p>
    </footer>
  </main>
  <div class="wrapper"></div>
  
</body>
</html>